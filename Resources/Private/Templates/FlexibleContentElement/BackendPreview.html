{namespace fed=Tx_Fed_ViewHelpers}

<div class="t3-page-ce" style="margin-top: 8px;">
<fed:comment>
<h4>FED FCE: {tt_content.header}</h4>

<table cellspacing="0">
	<thead>
		<tr>
			<th style="padding: 1px 3px 1px 3px;">Name</th>
			<th style="padding: 1px 3px 1px 3px;">Label</th>
			<th style="padding: 1px 3px 1px 3px;">Value</th>
		</tr>
	</thead>
	<f:for each="{fce.0.fields}" as="attribute">
		<tr>
			<td style="padding: 1px 3px 1px 3px;">{attribute.name}</td>
			<td style="padding: 1px 3px 1px 3px;">{attribute.label}</td>
			<td style="padding: 1px 3px 1px 3px;">{attribute.value}</td>
		</tr>
	</f:for>
</table>
</fed:comment>
<f:for each="{fce.grids}" as="grid">
	<table cellspacing="10" style="width: 100%;">
		<tbody>
		<f:for each="{grid.rows}" as="gridrow">
			<tr>
			<f:for each="{gridrow.columns}" as="gridcolumn">
				<td colspan="{gridcolumn.colspan}" rowspan="{gridcolumn.rowspan}" style="width: {gridcolumn.width};">
				<f:for each="{gridcolumn.areas}" as="area">
					<div class="t3-page-ce-header t3-row-header t3-page-colHeader" style="margin-bottom: 0px; background-image: -moz-linear-gradient(center top , #7F7F7F 10%, #5B5B5B 100%) !important;">
						<div class="t3-page-colHeader-icons">
							<a title="Create new record in top of this column"
							   onclick="window.location.href='/typo3/alt_doc.php?edit[tt_content][{row.pid}]=new&defVals[tt_content][colPos]=255&defVals[tt_content][sys_language_uid]={row.sys_language_uid}&returnUrl=%2Ftypo3%2Fsysext%2Fcms%2Flayout%2Fdb_layout.php%3Fid%3D{row.pid}&defVals[tt_content][CType]=text&defVals[tt_content][tx_fed_fcecontentarea]={area.name}%3A{row.uid}';"
							   href="#"><span class="t3-icon t3-icon-actions t3-icon-actions-document t3-icon-document-new">&nbsp;</span></a>
							<span class="t3-page-ce-icons-move"><span class="t3-icon t3-icon-empty t3-icon-empty-empty t3-icon-empty">&nbsp;</span></span>
						</div>
						<div class="t3-page-colHeader-label">{area.label}</div>
					</div>
					<div class="t3-page-ce-body">
						<fed:data.var name="areaVarName">areas.{area.name}.records</fed:data.var>
						<f:for each="{fed:data.var(name: areaVarName)}" as="record">
							<fed:raw>{record}</fed:raw>
							<!-- NOTE: TYPO3 fudged up its logic and thus, this syntactically WRONG element NEEDS to be here for proper rendering :( -->
							</div><br />
						</f:for>
					</div>
				</f:for>
				</td>
			</f:for>
			</tr>
		</f:for>
		</tbody>
	</table>
	<br />
</f:for>
</div>
